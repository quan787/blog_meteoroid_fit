# 如影随形的噪声

电影里偶尔会出现这样的桥段：街道上的摄像头拍到一张车辆的照片，这时候大佬对着小喽啰喊，放大！增强！然后小喽啰一通操作，画面越放越大，车的车牌号、驾驶员就都变得清清楚楚了。

在现实中这种操作显然是不存在的，我们都知道望远镜的分辨率受口径限制，而极限星等也跟口径有关。所以，我们在拍摄流星的时候，必然会撞到这些物理定律设置的障碍。

不过有意思的是，本来用于安保的网络摄像头很早就提供了“降噪”功能。只要打开降噪功能，晚上的画面立刻就变得清晰了许多，本来噪声密布的夜空瞬间安静了下来，很多本来看不到的暗星也浮现了出来。但是不知道你有没有注意到这一点：拍到的流星好像并没有增多。实际上，“降噪”也并不是没有代价的。

关于这项功能，以及其他功能的滥用，我们会在后面的文章中逐步分析。在这之前，我们先来了解一下相机的基本原理。

## 测量“光子”

光从各种光源发出来，经过遥远的距离，再经过镜头或者人眼的折射，落在传感器或者视网膜上。我们的眼睛和摄像头的目的都是一样的：测量来自这束光的亮度。尤其是摄像头，它会把光的亮度转化成数字，而显示器把数字再转化成亮度，这我们就能在屏幕上见到摄像头拍到的画面了。所以摄像头的好坏，基本相当于他能多么准确地测量光的亮度；而任何偏离光本身亮度的测量结果，就是我们所说的噪声。有个概念就是信噪比，顾名思义，信噪比就是信号/噪声。只要尽力降低噪声，信噪比就越高，泽亮结果就越好。

但还有一个基本问题：对一束光的测量并不是连续的。我们知道光子的概念，光的能量是一份一份传播的，而相机传感器也是对落在上面的光子进行计数。而对光子的数量，本身就带有随机性，而随机性就会带来噪声。平时我们不会注意到这种随机性，因为白天或者灯光下光子的数量是很多的，随机性被抹掉了，而在拍摄星空时，光子的数量很少，这种效应就很明显。我们进行一点计算就会发现，对于我们用肉眼观察6等的恒星，每秒钟进入我们眼中的光子数量只有10个左右！对于跟人眼尺寸差不多的摄像头，这个数字也差不多。可见人眼还是一台很不错的相机。

关于“光子”为什么会带有这种天然的噪声，我们用一个日常生活中的场景来类比。我们在公交站等公交车，对于10分钟一班的车，有时候两辆车的间隔会是15分钟，有时候又是10分钟。而如果一班车我们不知道发车间隔，我们在公交车边等边算时间，用这个时间间隔来估算。

如果我们在公交站等了10分钟，这10分钟一共来了1辆车，那这辆车的发车间隔可能是多少？当然最佳估计就是10分钟一辆（每小时6班），但完全有可能是15分钟1辆（每小时4班，也很有可能是5分钟一辆（每小时12班）。这种时候非常你就非常拿不准这个时间间隔。

而如果你在站台上等了两个小时，等到了12辆车，那你说这趟车是每小时6辆的把握就大得多了。每小时8班、每小时5班的概率都大大降低。如果你等的时间更久，等了整整一天，你对发车间隔的测量就更有把握了。

这个例子就表明，“一个一个”随机出现的事件，对出现概率的测量是随着出现次数增加逐渐变精确的。在数学上，这就是所谓的“泊松噪声”。它的大小等于光子的平方根，比如100个光子，泊松噪声时10个光子，此时信噪比是10，而10000个光子，泊松噪声是100个光子，信噪比是100。
